#### First calculate the depth per individual and select the two individuals with the highest values per population

vcftools --gzvcf input_file.vcf.gz --depth 

#### Sort by population and by higher depth
cat out.idepth  | awk '$1 > 0 { print substr($1,1,3)"\t"$0}' | tail -n +2 | sort -k1,1 -k4,4nr

#### create vcf.gz with 2 individuals per population with best depth score
bcftools view -S best_depth_2inds_list.txt -Oz -o JUN_36_best.vcf.gz  JUN_227_2.vcf.gz
